<!-- Payment Success Alert -->
@if (paymentSuccess()) {
<div class="alert alert-success alert-dismissible fade show mb-4">
    <h5 class="alert-heading">
        <i class="bi bi-check-circle-fill me-2"></i>
        Payment Successful!
    </h5>
    <p class="mb-2">Your order has been confirmed and will be delivered soon.</p>
    <p class="mb-0 small">
        <strong>Order ID:</strong> <code>{{ orderId() }}</code>
    </p>
    <button type="button" class="btn-close" (click)="dismissAlert()"></button>
</div>
}

<!-- Hero Section -->
<div class="hero-section">
    <div class="hero-background"></div>
    <div class="container position-relative">
        <div class="row align-items-center">
            <div class="col-lg-6">
                <h1 class="hero-title mb-4">
                    Shop Smarter with
                    <span class="highlight-text">CloudRetail</span>
                </h1>
                <p class="hero-subtitle mb-4">
                    Experience the future of online shopping with our serverless e-commerce platform.
                    Fast, secure, and always available - powered by AWS cloud technology.
                </p>
                <div class="d-flex flex-wrap gap-3 mb-4">
                    <a class="btn btn-primary btn-lg px-5 py-3" routerLink="/products">
                        Start Shopping
                    </a>
                    <a class="btn btn-outline-light btn-lg px-5 py-3" routerLink="/auth">
                        Join Now
                    </a>
                </div>
            </div>
            <div class="col-lg-6 mt-5 mt-lg-0">
                <div class="hero-stats-container">
                    <div class="row g-3">
                        <div class="col-6">
                            <div class="stat-card-modern">
                                <div class="stat-icon">
                                    <i class="bi bi-people-fill"></i>
                                </div>
                                <div class="stat-number">2M+</div>
                                <div class="stat-label">Happy Customers</div>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="stat-card-modern">
                                <div class="stat-icon">
                                    <i class="bi bi-box-seam"></i>
                                </div>
                                <div class="stat-number">50K+</div>
                                <div class="stat-label">Products</div>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="stat-card-modern">
                                <div class="stat-icon">
                                    <i class="bi bi-globe2"></i>
                                </div>
                                <div class="stat-number">150+</div>
                                <div class="stat-label">Countries</div>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="stat-card-modern">
                                <div class="stat-icon">
                                    <i class="bi bi-star-fill"></i>
                                </div>
                                <div class="stat-number">4.8/5</div>
                                <div class="stat-label">Rating</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Featured Products -->
<div class="container mb-5">
    <div class="text-center mb-5">
        <h2 class="fw-bold mb-2">Featured Products</h2>
        <p class="text-muted">Discover our handpicked selection of trending items</p>
    </div>

    @if (loading()) {
    <div class="text-center py-5">
        <div class="spinner-border text-primary" role="status" style="width: 3rem; height: 3rem;">
            <span class="visually-hidden">Loading...</span>
        </div>
        <div class="mt-3 text-muted">Loading amazing products...</div>
    </div>
    }

    @if (!loading() && featuredProducts().length > 0) {
    <div class="row g-4">
        @for (product of featuredProducts(); track product.productId) {
        <div class="col-6 col-md-4 col-lg-3">
            <div class="product-card-enhanced">
                <div class="product-image-container">
                    @if (product.imageUrl) {
                    <img [src]="product.imageUrl" [alt]="product.name" class="product-image">
                    } @else {
                    <div class="product-image-placeholder">
                        <i class="bi bi-box-seam"></i>
                    </div>
                    }
                </div>
                <div class="product-info">
                    <h6 class="product-name">{{ product.name || product.title }}</h6>
                    <div class="product-price">LKR {{ product.price }}</div>
                    <button class="btn btn-add-cart w-100 mt-3" routerLink="/products">
                        <i class="bi bi-cart-plus me-2"></i>
                        Add to Cart
                    </button>
                </div>
            </div>
        </div>
        }
    </div>

    <div class="text-center mt-5">
        <a class="btn btn-outline-primary btn-lg px-5" routerLink="/products">
            <i class="bi bi-grid-3x3-gap me-2"></i>
            View All Products
        </a>
    </div>
    }

    @if (!loading() && featuredProducts().length === 0) {
    <div class="text-center py-5">
        <div class="empty-state">
            <i class="bi bi-box-seam"></i>
            <h5 class="mt-3">No Products Available</h5>
            <p class="text-muted">Check back soon for amazing deals!</p>
        </div>
    </div>
    }
</div>


<!-- Customer Testimonials -->
<div class="testimonials-section">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="fw-bold mb-2">What Our Customers Say</h2>
            <p class="text-muted">Join thousands of satisfied shoppers worldwide</p>
        </div>

        <div class="row g-4">
            <div class="col-md-6 col-lg-4">
                <div class="testimonial-card">
                    <div class="testimonial-rating mb-3">
                        <i class="bi bi-star-fill"></i>
                        <i class="bi bi-star-fill"></i>
                        <i class="bi bi-star-fill"></i>
                        <i class="bi bi-star-fill"></i>
                        <i class="bi bi-star-fill"></i>
                    </div>
                    <p class="testimonial-text">
                        "CloudRetail has completely transformed my online shopping experience! The platform is
                        incredibly
                        fast, secure, and the product selection is amazing. I love how easy it is to find what I need."
                    </p>
                    <div class="testimonial-author">
                        <div class="author-avatar">
                            <i class="bi bi-person-circle"></i>
                        </div>
                        <div class="author-info">
                            <div class="author-name">Sarah Johnson</div>
                            <div class="author-location">New York, USA</div>
                        </div>
                        <div class="verified-badge">
                            <i class="bi bi-patch-check-fill"></i>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-md-6 col-lg-4">
                <div class="testimonial-card">
                    <div class="testimonial-rating mb-3">
                        <i class="bi bi-star-fill"></i>
                        <i class="bi bi-star-fill"></i>
                        <i class="bi bi-star-fill"></i>
                        <i class="bi bi-star-fill"></i>
                        <i class="bi bi-star-fill"></i>
                    </div>
                    <p class="testimonial-text">
                        "Outstanding service! The delivery was super fast, and the quality of products exceeded my
                        expectations.
                        The customer support team is also very responsive and helpful. Highly recommended!"
                    </p>
                    <div class="testimonial-author">
                        <div class="author-avatar">
                            <i class="bi bi-person-circle"></i>
                        </div>
                        <div class="author-info">
                            <div class="author-name">Michael Chen</div>
                            <div class="author-location">Singapore</div>
                        </div>
                        <div class="verified-badge">
                            <i class="bi bi-patch-check-fill"></i>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-md-6 col-lg-4">
                <div class="testimonial-card">
                    <div class="testimonial-rating mb-3">
                        <i class="bi bi-star-fill"></i>
                        <i class="bi bi-star-fill"></i>
                        <i class="bi bi-star-fill"></i>
                        <i class="bi bi-star-fill"></i>
                        <i class="bi bi-star-half"></i>
                    </div>
                    <p class="testimonial-text">
                        "I've been shopping on CloudRetail for over a year now, and I'm always impressed by their
                        reliability.
                        Great prices, authentic products, and hassle-free returns. This is my go-to platform!"
                    </p>
                    <div class="testimonial-author">
                        <div class="author-avatar">
                            <i class="bi bi-person-circle"></i>
                        </div>
                        <div class="author-info">
                            <div class="author-name">Emma Williams</div>
                            <div class="author-location">London, UK</div>
                        </div>
                        <div class="verified-badge">
                            <i class="bi bi-patch-check-fill"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="text-center mt-5">
            <div class="trust-stats">
                <div class="trust-stat-item">
                    <div class="trust-stat-number">4.8/5</div>
                    <div class="trust-stat-label">Average Rating</div>
                </div>
                <div class="trust-stat-divider"></div>
                <div class="trust-stat-item">
                    <div class="trust-stat-number">50K+</div>
                    <div class="trust-stat-label">Reviews</div>
                </div>
                <div class="trust-stat-divider"></div>
                <div class="trust-stat-item">
                    <div class="trust-stat-number">98%</div>
                    <div class="trust-stat-label">Satisfaction</div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Call to Action -->
<div class="container mb-5">
    <div class="card border-0 shadow-sm text-center"
        style="background: linear-gradient(135deg, #001D3D 0%, #003566 100%); color: white;">
        <div class="card-body p-5">
            <h2 class="fw-bold mb-3">Ready to Experience CloudRetail?</h2>
            <p class="lead mb-4">
                Join millions of customers worldwide on our serverless e-commerce platform
            </p>
            <div class="d-flex gap-3 justify-content-center">
                <a class="btn btn-warning btn-lg px-4" routerLink="/products">
                    Start Shopping
                </a>
                <a class="btn btn-outline-light btn-lg px-4" routerLink="/auth">
                    Create Account
                </a>
            </div>
        </div>
    </div>
</div>